#-*- coding:UTF-8 -*-import sysimport threadimport socketimport timedef socket_server_run():    msocket = socket.socket(socket.AF_INET,socket.SOCK_STREAM)        host = socket.gethostname()    port = 9001        print 'host = ' ,host ,' <> port ',port    msocket.bind((host,port))    msocket.listen(10)        while True:        conn, address = msocket.accept()        print 'client address is ',address        msg = conn.recv(512)        bak_msg = '''hello %s,i'm server socket.'''%(msg)        conn.sendall(bak_msg)        conn.close()    def socket_client_run(name):    msocket = socket.socket(socket.AF_INET,socket.SOCK_STREAM)    host = socket.gethostname()    port = 9001    msocket.connect((host ,port))    msocket.sendall(name)    msg = msocket.recv(512)    msocket.close()    print name ,''' receive msg is "''' + msg + '''"'''    def socket_client2_run(msg):    host = ''    port = 9001    res = socket.getaddrinfo(host, port)    af ,socktype ,proto ,canonname ,sd = res[1]    msocket = socket.socket(af ,socktype ,proto)    msocket.connect(sd)    msocket.sendall(msg)    msocket.close()     # thread.start_new_thread(socket_server_run,())# time.sleep(2)# thread.start_new_thread(socket_client_run ,('lilong',))# thread.start_new_thread(socket_client_run ,('zhang3',))# thread.start_new_thread(socket_client_run ,('wang5',))#======================================================if __name__ == '__main__':    msg = None    if len(sys.argv) > 1:        msg = sys.argv[1]    else:        msg = 'default client connected to server socket.'           socket_client2_run(msg)     time.sleep(10)    print 'Main thread will exit !!!'